{"version":3,"file":"client.mjs","sources":["../../src/client/overlay.ts","../../src/client/client.ts"],"sourcesContent":["import { ErrorPayload } from 'types/hmrPayload'\r\n\r\nconst template = /*html*/ `\r\n<style>\r\n:host {\r\n  position: fixed;\r\n  z-index: 99999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: scroll;\r\n  margin: 0;\r\n  background: rgba(0, 0, 0, 0.66);\r\n  --monospace: 'SFMono-Regular', Consolas,\r\n              'Liberation Mono', Menlo, Courier, monospace;\r\n  --red: #ff5555;\r\n  --yellow: #e2aa53;\r\n  --purple: #cfa4ff;\r\n  --cyan: #2dd9da;\r\n  --dim: #c9c9c9;\r\n}\r\n\r\n.window {\r\n  font-family: var(--monospace);\r\n  line-height: 1.5;\r\n  width: 800px;\r\n  color: #d8d8d8;\r\n  margin: 30px auto;\r\n  padding: 25px 40px;\r\n  position: relative;\r\n  background: #181818;\r\n  border-radius: 6px 6px 8px 8px;\r\n  box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);\r\n  overflow: hidden;\r\n  border-top: 8px solid var(--red);\r\n}\r\n\r\npre {\r\n  font-family: var(--monospace);\r\n  font-size: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 1em;\r\n  overflow-x: scroll;\r\n  scrollbar-width: none;\r\n}\r\n\r\npre::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.message {\r\n  line-height: 1.3;\r\n  font-weight: 600;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.message-body {\r\n  color: var(--red);\r\n}\r\n\r\n.plugin {\r\n  color: var(--purple);\r\n}\r\n\r\n.file {\r\n  color: var(--cyan);\r\n  margin-bottom: 0;\r\n  white-space: pre-wrap;\r\n  word-break: break-all;\r\n}\r\n\r\n.frame {\r\n  color: var(--yellow);\r\n}\r\n\r\n.stack {\r\n  font-size: 13px;\r\n  color: var(--dim);\r\n}\r\n\r\n.tip {\r\n  font-size: 13px;\r\n  color: #999;\r\n  border-top: 1px dotted #999;\r\n  padding-top: 13px;\r\n}\r\n\r\ncode {\r\n  font-size: 13px;\r\n  font-family: var(--monospace);\r\n  color: var(--yellow);\r\n}\r\n\r\n.file-link {\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n<div class=\"window\">\r\n  <pre class=\"message\"><span class=\"plugin\"></span><span class=\"message-body\"></span></pre>\r\n  <pre class=\"file\"></pre>\r\n  <pre class=\"frame\"></pre>\r\n  <pre class=\"stack\"></pre>\r\n  <div class=\"tip\">\r\n    Click outside or fix the code to dismiss.<br>\r\n    You can also disable this overlay with\r\n    <code>hmr: { overlay: false }</code> in <code>vite.config.js.</code>\r\n  </div>\r\n</div>\r\n`\r\n\r\nconst fileRE = /(?:[a-zA-Z]:\\\\|\\/).*?:\\d+:\\d+/g\r\nconst codeframeRE = /^(?:>?\\s+\\d+\\s+\\|.*|\\s+\\|\\s*\\^.*)\\r?\\n/gm\r\n\r\nexport class ErrorOverlay extends HTMLElement {\r\n  root: ShadowRoot\r\n\r\n  constructor(err: ErrorPayload['err']) {\r\n    super()\r\n    this.root = this.attachShadow({ mode: 'open' })\r\n    this.root.innerHTML = template\r\n\r\n    codeframeRE.lastIndex = 0\r\n    const hasFrame = err.frame && codeframeRE.test(err.frame)\r\n    const message = hasFrame\r\n      ? err.message.replace(codeframeRE, '')\r\n      : err.message\r\n    if (err.plugin) {\r\n      this.text('.plugin', `[plugin:${err.plugin}] `)\r\n    }\r\n    this.text('.message-body', message.trim())\r\n\r\n    const [file] = (err.loc?.file || err.id || 'unknown file').split(`?`)\r\n    if (err.loc) {\r\n      this.text('.file', `${file}:${err.loc.line}:${err.loc.column}`, true)\r\n    } else if (err.id) {\r\n      this.text('.file', file)\r\n    }\r\n\r\n    if (hasFrame) {\r\n      this.text('.frame', err.frame!.trim())\r\n    }\r\n    this.text('.stack', err.stack, true)\r\n\r\n    this.root.querySelector('.window')!.addEventListener('click', (e) => {\r\n      e.stopPropagation()\r\n    })\r\n    this.addEventListener('click', () => {\r\n      this.close()\r\n    })\r\n  }\r\n\r\n  text(selector: string, text: string, linkFiles = false): void {\r\n    const el = this.root.querySelector(selector)!\r\n    if (!linkFiles) {\r\n      el.textContent = text\r\n    } else {\r\n      let curIndex = 0\r\n      let match: RegExpExecArray | null\r\n      while ((match = fileRE.exec(text))) {\r\n        const { 0: file, index } = match\r\n        if (index != null) {\r\n          const frag = text.slice(curIndex, index)\r\n          el.appendChild(document.createTextNode(frag))\r\n          const link = document.createElement('a')\r\n          link.textContent = file\r\n          link.className = 'file-link'\r\n          link.onclick = () => {\r\n            fetch('/__open-in-editor?file=' + encodeURIComponent(file))\r\n          }\r\n          el.appendChild(link)\r\n          curIndex += frag.length + file.length\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  close(): void {\r\n    this.parentNode?.removeChild(this)\r\n  }\r\n}\r\n\r\nexport const overlayId = 'vite-error-overlay'\r\n!customElements.get(overlayId) && customElements.define(overlayId, ErrorOverlay)\r\n","import {\r\n  ErrorPayload,\r\n  FullReloadPayload,\r\n  HMRPayload,\r\n  PrunePayload,\r\n  Update,\r\n  UpdatePayload\r\n} from 'types/hmrPayload'\r\nimport { CustomEventName } from 'types/customEvent'\r\nimport { ErrorOverlay, overlayId } from './overlay'\r\n// eslint-disable-next-line node/no-missing-import\r\nimport '@vite/env'\r\n\r\n// injected by the hmr plugin when served\r\ndeclare const __ROOT__: string\r\ndeclare const __BASE__: string\r\ndeclare const __HMR_PROTOCOL__: string\r\ndeclare const __HMR_HOSTNAME__: string\r\ndeclare const __HMR_PORT__: string\r\ndeclare const __HMR_TIMEOUT__: number\r\ndeclare const __HMR_ENABLE_OVERLAY__: boolean\r\n\r\nconsole.log('[vite] connecting...')\r\n\r\n// use server configuration, then fallback to inference\r\nconst socketProtocol =\r\n  __HMR_PROTOCOL__ || (location.protocol === 'https:' ? 'wss' : 'ws')\r\nconst socketHost = `${__HMR_HOSTNAME__ || location.hostname}:${__HMR_PORT__}`\r\nconst socket = new WebSocket(`${socketProtocol}://${socketHost}`, 'vite-hmr')\r\nconst base = __BASE__ || '/'\r\n\r\nfunction warnFailedFetch(err: Error, path: string | string[]) {\r\n  if (!err.message.match('fetch')) {\r\n    console.error(err)\r\n  }\r\n  console.error(\r\n    `[hmr] Failed to reload ${path}. ` +\r\n      `This could be due to syntax errors or importing non-existent ` +\r\n      `modules. (see errors above)`\r\n  )\r\n}\r\n\r\n// Listen for messages\r\nsocket.addEventListener('message', async ({ data }) => {\r\n  handleMessage(JSON.parse(data))\r\n})\r\n\r\nlet isFirstUpdate = true\r\n\r\nasync function handleMessage(payload: HMRPayload) {\r\n  switch (payload.type) {\r\n    case 'connected':\r\n      console.log(`[vite] connected.`)\r\n      // proxy(nginx, docker) hmr ws maybe caused timeout,\r\n      // so send ping package let ws keep alive.\r\n      setInterval(() => socket.send('ping'), __HMR_TIMEOUT__)\r\n      break\r\n    case 'update':\r\n      notifyListeners('vite:beforeUpdate', payload)\r\n      // if this is the first update and there's already an error overlay, it\r\n      // means the page opened with existing server compile error and the whole\r\n      // module script failed to load (since one of the nested imports is 500).\r\n      // in this case a normal update won't work and a full reload is needed.\r\n      if (isFirstUpdate && hasErrorOverlay()) {\r\n        window.location.reload()\r\n        return\r\n      } else {\r\n        clearErrorOverlay()\r\n        isFirstUpdate = false\r\n      }\r\n      payload.updates.forEach((update) => {\r\n        if (update.type === 'js-update') {\r\n          queueUpdate(fetchUpdate(update))\r\n        } else {\r\n          // css-update\r\n          // this is only sent when a css file referenced with <link> is updated\r\n          let { path, timestamp } = update\r\n          path = path.replace(/\\?.*/, '')\r\n          // can't use querySelector with `[href*=]` here since the link may be\r\n          // using relative paths so we need to use link.href to grab the full\r\n          // URL for the include check.\r\n          const el = (\r\n            [].slice.call(\r\n              document.querySelectorAll(`link`)\r\n            ) as HTMLLinkElement[]\r\n          ).find((e) => e.href.includes(path))\r\n          if (el) {\r\n            const newPath = `${base}${path.slice(1)}${\r\n              path.includes('?') ? '&' : '?'\r\n            }t=${timestamp}`\r\n            el.href = new URL(newPath, el.href).href\r\n          }\r\n          console.log(`[vite] css hot updated: ${path}`)\r\n        }\r\n      })\r\n      break\r\n    case 'custom': {\r\n      notifyListeners(payload.event as CustomEventName<any>, payload.data)\r\n      break\r\n    }\r\n    case 'full-reload':\r\n      notifyListeners('vite:beforeFullReload', payload)\r\n      if (payload.path && payload.path.endsWith('.html')) {\r\n        // if html file is edited, only reload the page if the browser is\r\n        // currently on that page.\r\n        const pagePath = location.pathname\r\n        const payloadPath = base + payload.path.slice(1)\r\n        if (\r\n          pagePath === payloadPath ||\r\n          (pagePath.endsWith('/') && pagePath + 'index.html' === payloadPath)\r\n        ) {\r\n          location.reload()\r\n        }\r\n        return\r\n      } else {\r\n        location.reload()\r\n      }\r\n      break\r\n    case 'prune':\r\n      notifyListeners('vite:beforePrune', payload)\r\n      // After an HMR update, some modules are no longer imported on the page\r\n      // but they may have left behind side effects that need to be cleaned up\r\n      // (.e.g style injections)\r\n      // TODO Trigger their dispose callbacks.\r\n      payload.paths.forEach((path) => {\r\n        const fn = pruneMap.get(path)\r\n        if (fn) {\r\n          fn(dataMap.get(path))\r\n        }\r\n      })\r\n      break\r\n    case 'error': {\r\n      notifyListeners('vite:error', payload)\r\n      const err = payload.err\r\n      if (enableOverlay) {\r\n        createErrorOverlay(err)\r\n      } else {\r\n        console.error(\r\n          `[vite] Internal Server Error\\n${err.message}\\n${err.stack}`\r\n        )\r\n      }\r\n      break\r\n    }\r\n    default: {\r\n      const check: never = payload\r\n      return check\r\n    }\r\n  }\r\n}\r\n\r\nfunction notifyListeners(\r\n  event: 'vite:beforeUpdate',\r\n  payload: UpdatePayload\r\n): void\r\nfunction notifyListeners(event: 'vite:beforePrune', payload: PrunePayload): void\r\nfunction notifyListeners(\r\n  event: 'vite:beforeFullReload',\r\n  payload: FullReloadPayload\r\n): void\r\nfunction notifyListeners(event: 'vite:error', payload: ErrorPayload): void\r\nfunction notifyListeners<T extends string>(\r\n  event: CustomEventName<T>,\r\n  data: any\r\n): void\r\nfunction notifyListeners(event: string, data: any): void {\r\n  const cbs = customListenersMap.get(event)\r\n  if (cbs) {\r\n    cbs.forEach((cb) => cb(data))\r\n  }\r\n}\r\n\r\nconst enableOverlay = __HMR_ENABLE_OVERLAY__\r\n\r\nfunction createErrorOverlay(err: ErrorPayload['err']) {\r\n  if (!enableOverlay) return\r\n  clearErrorOverlay()\r\n  document.body.appendChild(new ErrorOverlay(err))\r\n}\r\n\r\nfunction clearErrorOverlay() {\r\n  document\r\n    .querySelectorAll(overlayId)\r\n    .forEach((n) => (n as ErrorOverlay).close())\r\n}\r\n\r\nfunction hasErrorOverlay() {\r\n  return document.querySelectorAll(overlayId).length\r\n}\r\n\r\nlet pending = false\r\nlet queued: Promise<(() => void) | undefined>[] = []\r\n\r\n/**\r\n * buffer multiple hot updates triggered by the same src change\r\n * so that they are invoked in the same order they were sent.\r\n * (otherwise the order may be inconsistent because of the http request round trip)\r\n */\r\nasync function queueUpdate(p: Promise<(() => void) | undefined>) {\r\n  queued.push(p)\r\n  if (!pending) {\r\n    pending = true\r\n    await Promise.resolve()\r\n    pending = false\r\n    const loading = [...queued]\r\n    queued = []\r\n    ;(await Promise.all(loading)).forEach((fn) => fn && fn())\r\n  }\r\n}\r\n\r\nasync function waitForSuccessfulPing(ms = 1000) {\r\n  // eslint-disable-next-line no-constant-condition\r\n  while (true) {\r\n    try {\r\n      await fetch(`${base}__vite_ping`)\r\n      break\r\n    } catch (e) {\r\n      await new Promise((resolve) => setTimeout(resolve, ms))\r\n    }\r\n  }\r\n}\r\n\r\n// ping server\r\nsocket.addEventListener('close', async ({ wasClean }) => {\r\n  if (wasClean) return\r\n  console.log(`[vite] server connection lost. polling for restart...`)\r\n  await waitForSuccessfulPing()\r\n  location.reload()\r\n})\r\n\r\n// https://wicg.github.io/construct-stylesheets\r\nconst supportsConstructedSheet = (() => {\r\n  try {\r\n    // new CSSStyleSheet()\r\n    // return true\r\n  } catch (e) {}\r\n  return false\r\n})()\r\n\r\nconst sheetsMap = new Map()\r\n\r\nexport function updateStyle(id: string, content: string): void {\r\n  let style = sheetsMap.get(id)\r\n  if (supportsConstructedSheet && !content.includes('@import')) {\r\n    if (style && !(style instanceof CSSStyleSheet)) {\r\n      removeStyle(id)\r\n      style = undefined\r\n    }\r\n\r\n    if (!style) {\r\n      style = new CSSStyleSheet()\r\n      style.replaceSync(content)\r\n      // @ts-ignore\r\n      document.adoptedStyleSheets = [...document.adoptedStyleSheets, style]\r\n    } else {\r\n      style.replaceSync(content)\r\n    }\r\n  } else {\r\n    if (style && !(style instanceof HTMLStyleElement)) {\r\n      removeStyle(id)\r\n      style = undefined\r\n    }\r\n\r\n    if (!style) {\r\n      style = document.createElement('style')\r\n      style.setAttribute('type', 'text/css')\r\n      style.innerHTML = content\r\n      document.head.appendChild(style)\r\n    } else {\r\n      style.innerHTML = content\r\n    }\r\n  }\r\n  sheetsMap.set(id, style)\r\n}\r\n\r\nexport function removeStyle(id: string): void {\r\n  const style = sheetsMap.get(id)\r\n  if (style) {\r\n    if (style instanceof CSSStyleSheet) {\r\n      // @ts-ignore\r\n      const index = document.adoptedStyleSheets.indexOf(style)\r\n      // @ts-ignore\r\n      document.adoptedStyleSheets = document.adoptedStyleSheets.filter(\r\n        (s: CSSStyleSheet) => s !== style\r\n      )\r\n    } else {\r\n      document.head.removeChild(style)\r\n    }\r\n    sheetsMap.delete(id)\r\n  }\r\n}\r\n\r\nasync function fetchUpdate({ path, acceptedPath, timestamp }: Update) {\r\n  const mod = hotModulesMap.get(path)\r\n  if (!mod) {\r\n    // In a code-splitting project,\r\n    // it is common that the hot-updating module is not loaded yet.\r\n    // https://github.com/vitejs/vite/issues/721\r\n    return\r\n  }\r\n\r\n  const moduleMap = new Map()\r\n  const isSelfUpdate = path === acceptedPath\r\n\r\n  // make sure we only import each dep once\r\n  const modulesToUpdate = new Set<string>()\r\n  if (isSelfUpdate) {\r\n    // self update - only update self\r\n    modulesToUpdate.add(path)\r\n  } else {\r\n    // dep update\r\n    for (const { deps } of mod.callbacks) {\r\n      deps.forEach((dep) => {\r\n        if (acceptedPath === dep) {\r\n          modulesToUpdate.add(dep)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // determine the qualified callbacks before we re-import the modules\r\n  const qualifiedCallbacks = mod.callbacks.filter(({ deps }) => {\r\n    return deps.some((dep) => modulesToUpdate.has(dep))\r\n  })\r\n\r\n  await Promise.all(\r\n    Array.from(modulesToUpdate).map(async (dep) => {\r\n      const disposer = disposeMap.get(dep)\r\n      if (disposer) await disposer(dataMap.get(dep))\r\n      const [path, query] = dep.split(`?`)\r\n      try {\r\n        const newMod = await import(\r\n          /* @vite-ignore */\r\n          base +\r\n            path.slice(1) +\r\n            `?import&t=${timestamp}${query ? `&${query}` : ''}`\r\n        )\r\n        moduleMap.set(dep, newMod)\r\n      } catch (e) {\r\n        warnFailedFetch(e, dep)\r\n      }\r\n    })\r\n  )\r\n\r\n  return () => {\r\n    for (const { deps, fn } of qualifiedCallbacks) {\r\n      fn(deps.map((dep) => moduleMap.get(dep)))\r\n    }\r\n    const loggedPath = isSelfUpdate ? path : `${acceptedPath} via ${path}`\r\n    console.log(`[vite] hot updated: ${loggedPath}`)\r\n  }\r\n}\r\n\r\ninterface HotModule {\r\n  id: string\r\n  callbacks: HotCallback[]\r\n}\r\n\r\ninterface HotCallback {\r\n  // the dependencies must be fetchable paths\r\n  deps: string[]\r\n  fn: (modules: object[]) => void\r\n}\r\n\r\nconst hotModulesMap = new Map<string, HotModule>()\r\nconst disposeMap = new Map<string, (data: any) => void | Promise<void>>()\r\nconst pruneMap = new Map<string, (data: any) => void | Promise<void>>()\r\nconst dataMap = new Map<string, any>()\r\nconst customListenersMap = new Map<string, ((data: any) => void)[]>()\r\nconst ctxToListenersMap = new Map<\r\n  string,\r\n  Map<string, ((data: any) => void)[]>\r\n>()\r\n\r\n// Just infer the return type for now\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport const createHotContext = (ownerPath: string) => {\r\n  if (!dataMap.has(ownerPath)) {\r\n    dataMap.set(ownerPath, {})\r\n  }\r\n\r\n  // when a file is hot updated, a new context is created\r\n  // clear its stale callbacks\r\n  const mod = hotModulesMap.get(ownerPath)\r\n  if (mod) {\r\n    mod.callbacks = []\r\n  }\r\n\r\n  // clear stale custom event listeners\r\n  const staleListeners = ctxToListenersMap.get(ownerPath)\r\n  if (staleListeners) {\r\n    for (const [event, staleFns] of staleListeners) {\r\n      const listeners = customListenersMap.get(event)\r\n      if (listeners) {\r\n        customListenersMap.set(\r\n          event,\r\n          listeners.filter((l) => !staleFns.includes(l))\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  const newListeners = new Map()\r\n  ctxToListenersMap.set(ownerPath, newListeners)\r\n\r\n  function acceptDeps(deps: string[], callback: HotCallback['fn'] = () => {}) {\r\n    const mod: HotModule = hotModulesMap.get(ownerPath) || {\r\n      id: ownerPath,\r\n      callbacks: []\r\n    }\r\n    mod.callbacks.push({\r\n      deps,\r\n      fn: callback\r\n    })\r\n    hotModulesMap.set(ownerPath, mod)\r\n  }\r\n\r\n  const hot = {\r\n    get data() {\r\n      return dataMap.get(ownerPath)\r\n    },\r\n\r\n    accept(deps: any, callback?: any) {\r\n      if (typeof deps === 'function' || !deps) {\r\n        // self-accept: hot.accept(() => {})\r\n        acceptDeps([ownerPath], ([mod]) => deps && deps(mod))\r\n      } else if (typeof deps === 'string') {\r\n        // explicit deps\r\n        acceptDeps([deps], ([mod]) => callback && callback(mod))\r\n      } else if (Array.isArray(deps)) {\r\n        acceptDeps(deps, callback)\r\n      } else {\r\n        throw new Error(`invalid hot.accept() usage.`)\r\n      }\r\n    },\r\n\r\n    acceptDeps() {\r\n      throw new Error(\r\n        `hot.acceptDeps() is deprecated. ` +\r\n          `Use hot.accept() with the same signature instead.`\r\n      )\r\n    },\r\n\r\n    dispose(cb: (data: any) => void) {\r\n      disposeMap.set(ownerPath, cb)\r\n    },\r\n\r\n    prune(cb: (data: any) => void) {\r\n      pruneMap.set(ownerPath, cb)\r\n    },\r\n\r\n    // TODO\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    decline() {},\r\n\r\n    invalidate() {\r\n      // TODO should tell the server to re-perform hmr propagation\r\n      // from this module as root\r\n      location.reload()\r\n    },\r\n\r\n    // custom events\r\n    on: (event: string, cb: (data: any) => void) => {\r\n      const addToMap = (map: Map<string, any[]>) => {\r\n        const existing = map.get(event) || []\r\n        existing.push(cb)\r\n        map.set(event, existing)\r\n      }\r\n      addToMap(customListenersMap)\r\n      addToMap(newListeners)\r\n    }\r\n  }\r\n\r\n  return hot\r\n}\r\n\r\n/**\r\n * urls here are dynamic import() urls that couldn't be statically analyzed\r\n */\r\nexport function injectQuery(url: string, queryToInject: string): string {\r\n  // skip urls that won't be handled by vite\r\n  if (!url.startsWith('.') && !url.startsWith('/')) {\r\n    return url\r\n  }\r\n\r\n  // can't use pathname from URL since it may be relative like ../\r\n  const pathname = url.replace(/#.*$/, '').replace(/\\?.*$/, '')\r\n  const { search, hash } = new URL(url, 'http://vitejs.dev')\r\n\r\n  return `${pathname}?${queryToInject}${search ? `&` + search.slice(1) : ''}${\r\n    hash || ''\r\n  }`\r\n}\r\n"],"names":[],"mappings":"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"}